version: '3.8'

services:
  scanner:
    build: .
    container_name: security-scanner
    volumes:
      - ./scan_results:/app/scan_results
      - ./config.json:/app/config.json:ro
    environment:
      - SCANNER_LOG_LEVEL=INFO
      - SCANNER_OUTPUT_DIR=/app/scan_results
    networks:
      - scanner-network
    # For CLI usage:
    # docker-compose run scanner python3 scanner_api.py -t example.com

  # Optional: Redis for job queue (if you want async scanning)
  # redis:
  #   image: redis:alpine
  #   container_name: scanner-redis
  #   networks:
  #     - scanner-network

networks:
  scanner-network:
    driver: bridge


